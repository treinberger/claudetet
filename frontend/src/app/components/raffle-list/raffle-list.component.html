<div class="nx-grid">
  <div class="nx-grid__item nx-grid__item--width-12">
    <div class="nx-card">
      <div class="nx-card__header">
        <div class="header-with-button">
          <h2 nxHeadline="subsection-large">Available Raffles</h2>
          <button nxButton="primary" (click)="createNewRaffle()">
            <nx-icon name="plus"></nx-icon>
            Create New Raffle
          </button>
        </div>
      </div>
      <div class="nx-card__content">
        <div *ngIf="loading" class="spinner-container">
          <nx-spinner></nx-spinner>
        </div>

        <div *ngIf="!loading && raffles.length === 0" class="empty-state">
          <p>No raffles available at the moment.</p>
        </div>

        <div *ngIf="!loading && raffles.length > 0" class="raffle-grid">
          <div *ngFor="let raffle of raffles" class="nx-card raffle-card" (click)="viewRaffleDetails(raffle.id)">
            <div class="nx-card__header">
              <h3 nxHeadline="subsection-small">{{raffle.name}}</h3>
            </div>
            <div class="nx-card__content">
              <img [src]="raffle.teaserImage" [alt]="raffle.name" class="teaser-image" />
              <p>{{raffle.description}}</p>
              <p class="status">Status: {{raffle.status}}</p>
            </div>
            <div class="nx-card__footer">
              <button nxButton="primary" (click)="viewRaffleDetails(raffle.id)">View Details</button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="error" class="error-message">
      <nx-message context="error">{{error}}</nx-message>
    </div>
  </div>
</div>